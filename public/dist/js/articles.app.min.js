var articlesApp=function(){return{load:function(){switch(window.location.hash.split("-")[0]){case"#create":document.getElementById("app").innerHTML='\n        <div class="card">\n            <div class="card-header clearfix">\n            <h2 class="h3 float-left">Create a New Article</h2>\n            <div class="float-right">\n                <a href="#" class="btn btn-primary">Cancel</a>\n            </div>\n            </div>\n            <div class="card-body">\n            <form id="createArticle" class="card-body">\n                <div id="formMsg" class="alert alert-danger text-center">Your form has errors</div>\n    \n                <div class="row">\n                <div class="form-group col-md-6">\n                    <label for="title">Title</label>\n                    <input type="text" id="title" name="title" class="form-control" required>\n                </div>\n    \n                <div class="form-group col-md-6">\n                    <label for="description">Description</label>\n                    <input type="text" id="description" name="description" class="form-control" required>\n                </div>\n                </div>    \n                <div class="text-right">\n                <input type="submit" value="Submit" class="btn btn-lg btn-primary btn-sm-block">\n                </div>\n            </form>\n            </div>\n        </div>\n    ',function(e,t,n){let a=document.getElementById(e);a.addEventListener("submit",function(e){e.preventDefault();let i=new FormData(a),d=`${window.location.origin}${t}`,l=new XMLHttpRequest;l.open(n,d),l.setRequestHeader("Content-Type","application/json; charset=UTF-8");let r={};i.forEach(function(e,t){r[t]=e}),l.send(JSON.stringify(r)),l.onload=function(){!0===JSON.parse(l.response).success?window.location.href="/":document.getElementById("formMsg").style.display="block"}})}("createArticle","/api/articles","POST");break;case"#view":console.log("VIEW");break;case"#edit":console.log("EDIT");break;case"#delete":console.log("DELETE");break;default:!function(){let e=`${window.location.origin}/api/articles`,t=new XMLHttpRequest;t.open("GET",e),t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.send(),t.onload=function(){let e=document.getElementById("app"),n=JSON.parse(t.response).articles,a="",i="";for(let e=0;e<n.length;e++)i+=`<tr>\n            <td>\n              <a href="#view-${n[e].slug}">${n[e].title}</a>\n            </td>\n            <td>${n[e].description}</td>\n            <td>${n[e].keywords}</td>\n            <td>${n[e].body}</td>\n            <td>${n[e].published}</td>\n            <td>${n[e].created}</td>\n            <td>${n[e].modified}</td>\n\n          </tr>`;a=`<div class="card">\n          <div class="card-header clearfix">\n            <h2 class="h3 float-left">Articles</h2>\n            <div class="float-right">\n              <a href="#create" class="btn btn-primary">New Article</a>\n            </div>\n          </div>\n          <div class="table-responsive">\n            <table class="table table-striped table-hover table-bordered">\n              <thead>\n                <tr>\n                  <td>Title</td>\n                  <td>Dsescription</td>\n                  <td>Published</td>\n                </tr>\n              </thead>\n              <tbody>${i}</tbody>\n            </table>\n          </div>\n        </div>`,e.innerHTML=a}}()}}}}();articlesApp.load(),window.addEventListener("hashchange",function(){articlesApp.load()});